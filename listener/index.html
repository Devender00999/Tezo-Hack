<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/media.css">
    <link rel="stylesheet" href="./style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans&family=Fredericka+the+Great&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fredericka+the+Great&display=swap" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Archivo:wght@200&family=Bitter:wght@300&family=Cairo:wght@200&family=Girassol&family=Josefin+Sans&family=New+Tegomin&family=Original+Surfer&family=Poppins:wght@200&family=Roboto:wght@300&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Media Player</title>
</head>

<body>
    <main>
        <nav>
            <h1 class="tagLine">Genesis X</h1>
            <div class="profile" onclick="location.href='../artist/index.html'" style="cursor: pointer;">
                <h1>Robert Downey</h1>
                <img src="../images/userImage.jpg" alt="profile">
            </div>
        </nav>
        <div class="container">
            <div class="genres">
                <div class="search">
                    <i class="fa fa-search"></i>
                    <input type="text">
                </div>
                <div class="genresList">
                    <h1>Genres</h1>
                    <div class="genre selected">
                        <i class="fa fa-music"></i>
                        <h2>Hip Hop</h2>
                    </div>
                    <div class="genre">
                        <i class="fa fa-music"></i>
                        <h2>Jazz</h2>
                    </div>
                    <div class="genre">
                        <i class="fa fa-music"></i>
                        <h2>Rock</h2>
                    </div>
                    <div class="genre">
                        <i class="fa fa-music"></i>
                        <h2>E.D.M.</h2>
                    </div>
                    <div class="genre">
                        <i class="fa fa-music"></i>
                        <h2>Disco</h2>
                    </div>
                    <div class="genre">
                        <i class="fa fa-music"></i>
                        <h2>Indie Rock</h2>
                    </div>
                    <div class="genre">
                        <i class="fa fa-music"></i>
                        <h2>Reggaeton</h2>
                    </div>
                    <div class="genre">
                        <i class="fa fa-music"></i>
                        <h2>Bollywood</h2>
                    </div>
                    <div class="genre">
                        <i class="fa fa-music"></i>
                        <h2>Fork</h2>
                    </div>
                </div>
                <div class="settings">
                    <div class="buttons" onclick="location.href='../index.html'">
                        <i class="fa fa-power-off"></i>
                    </div>
                </div>
            </div>
            <div class="player">
                <div class="currentPlayer">
                    <input type="radio" name="slider" onclick="playPrev()" id="item-1" checked disabled>
                    <input type="radio" name="slider" onclick="playSong()" id="item-2" disabled>
                    <input type="radio" name="slider" onclick="playPrev()" id="item-3" disabled>
                    <div class="cards">
                        <label class="card" for="item-1" id="song-1">
                            <img src="../songs/closer.jpg" alt="song">
                        </label>
                        <label class="card" for="item-2" id="song-2">
                            <img src="../songs/perfect.jpeg" alt="song">
                        </label>
                        <label class="card" for="item-3" id="song-3">
                            <img src="../songs/loveYourSelf.png" alt="song">
                        </label>
                    </div>
                </div>
                <div class="songList">
                    <table>
                        <thead>
                            <th>Song Name</th>
                            <th>Singer</th>
                            <th>Duration</th>
                        </thead>
                        <tr>
                            <td><i class="fa fa-play-circle-o"></i>Closer</td>
                            <td>The Chainsmokers</td>
                            <td>04:04</td>
                        </tr>
                        <tr>
                            <td><i class="fa fa-play-circle-o"></i>Love Yourself</td>
                            <td>Justin Bieber</td>
                            <td>03:53</td>
                        </tr>
                        <tr>
                            <td><i class="fa fa-play-circle-o"></i>Photograph</td>
                            <td>Ed Sheeran</td>
                            <td>04:18</td>
                        </tr>
                    </table>
                </div>
                <div class="mediaControl">
                    <input type="range" id="change_vol" onchange="change_vol()" step="0.05" min="0" max="100" value="1">
                    <div class="control">
                        <span id="prev" onclick="playPrev()">Previous</span>
                        <i id="playBtn" class="fa fa-play-circle" onclick="playSong();"></i>
                        <span id="next" onclick="playNext()">Next</span>
                    </div>
                </div>
            </div>
            <audio id="audioPlayer" src="../songs/Closer.mp3" style="display: none;"></audio>


        </div>

    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script>
        var songs = ["../songs/Closer.mp3", "../songs/Photograph.mp3", "../songs/Love Yourself.mp3"]
        var isPlaying = false;
        var audioPlayer = document.getElementById("audioPlayer");
        var songNumber = 0;
        var playBtn = document.getElementById("playBtn");

        var carousel = document.querySelectorAll(".currentPlayer  > input");


        function playSong() {
            audioPlayer.src = songs[songNumber];
            console.log(songNumber);
            if (isPlaying) {
                isPlaying = false;
                playBtn.classList.add("fa-play-circle");
                playBtn.classList.remove("fa-pause-circle");
                carousel[songNumber].checked = true;
                audioPlayer.pause();
            }
            else {
                isPlaying = true;
                audioPlayer.play();
                carousel[songNumber].checked = true;
                playBtn.classList.add("fa-pause-circle");
                playBtn.classList.remove("fa-play-circle");

            }
        }

        function playNext() {
            songNumber = songNumber > songs.length - 2 ? songNumber = 0 : songNumber += 1;
            audioPlayer.src = songs[songNumber];
            console.log(songs[songNumber]);
            if (isPlaying) {
                audioPlayer.pause();
                isPlaying = 0;
            }
            playSong();
        }

        function playPrev() {
            songNumber = songNumber < 1 ? songNumber = songs.length - 1 : songNumber -= 1;
            audioPlayer.src = songs[songNumber];
            console.log(songNumber);
            if (isPlaying) {
                audioPlayer.pause();
                isPlaying = 0;
            }

            playSong();
        }

    </script>
</body>

</html>